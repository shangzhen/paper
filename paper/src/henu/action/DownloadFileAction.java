package henu.action;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.io.UnsupportedEncodingException;

import org.apache.struts2.ServletActionContext;

import com.opensymphony.xwork2.ActionSupport;

/**
 * ????????????????????????
 * ???????action 
 */
public class DownloadFileAction extends ActionSupport{

	
	
	private static final long serialVersionUID = 1L;
	private String resName;
	private String res;
	private String resType;

	public String getResName() {
		return resName;
	}

	public void setResName(String resName) {
		this.resName = resName;
	}

	public String getRes() throws UnsupportedEncodingException {
		return res;
	}

	public void setRes(String res) throws UnsupportedEncodingException {
		//????????????????????????????????????action??????????  ???????????iso-8859-1 ?????utf-8 ???? 
		this.res = new String(res.getBytes("iso-8859-1"),"utf-8");
	}

	public String getResType() {
		return resType;
	}

	public void setResType(String resType) {
		this.resType = resType;
	}
	public InputStream getTarget() throws IOException{
		
		//????????????????????  ??????????????????????????? 
		System.out.println(res);
		return  new FileInputStream(res);
		
	}


	
	
	
	
	
	
	
	
	
	
	
	
	
}
